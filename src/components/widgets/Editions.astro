---
import { Image } from '@astrojs/image/components';
import DropdownMenu from '~/components/widgets/DropdownMenu'

const items = [
  [
    {
      title: 'KDE PLASMA',
      description:
        'Use Plasma to surf the web; keep in touch with colleagues, friends and family; manage your files, enjoy music and videos; and get creative and productive at work. Do it all in a beautiful environment that adapts to your needs, and with the safety, privacy-protection and peace of mind that the best Free Open Source Software has to offer..',
      direct_url: 'https://mirror.cachyos.org/ISO/kde/221230/cachyos-kde-linux-221230.iso',
      srcforge_url: 'https://sourceforge.net/projects/cachyos-arch/files/gui-installer/kde/221230/cachyos-kde-linux-221230.iso/download',
      preview: import('~/assets/images/kde.png'),
    },
    {
      title: 'GNOME',
      description:
        'GNOME is a modern desktop environment which is both clean and beautiful. It is focused on ease of use.',
      direct_url: 'https://mirror.cachyos.org/ISO/gnome/221230/cachyos-gnome-linux-221230.iso',
      preview: import('~/assets/images/gnome.png'),
    },
    {
      title: 'XFCE',
      description:
        'Xfce is a lightweight desktop environment for UNIX-like operating systems. It aims to be fast and low on system resources, while still being visually appealing and user-friendly.',
      preview: import('~/assets/images/xfce.png'),
    },
  ],
];

---

<section class="scroll-mt-16">
  <div class="flex x-auto space-y-6 justify-center md:space-y-0 p-9">
    {
      items.map((subitems) => (
        <div class="container sm:px-8 mx-auto">
          {subitems.map(({ title, description, direct_url, srcforge_url, preview }) => (
            <div class="flex flex-wrap items-center -m-8 my-20 pb-[calc(20vh)]">
              <div class="w-full md:w-1/2 p-8">
                <h2 class="mb-9 text-6xl md:text-8xl xl:text-10xl font-bold font-heading tracking-px-n leading-none">{title}</h2>
                <p class="mb-10 text-lg text-gray-900 dark:text-slate-400 font-medium leading-relaxed md:max-w-md">{description}</p>
                <div class="mb-11 md:inline-block rounded-xl shadow-4xl bg-primary-500 dark:bg-primary-700 dropdown">
                  {direct_url &&
                    <DropdownMenu client:visible data={ {title, direct_url, srcforge_url} } />
                  }
                  {!direct_url && !srcforge_url &&
                    <div>
                      <button type="button" class="btn-under-constuction py-4 px-6">Under constuction ðŸš§</button>
                    </div>
                  }
                </div>
              </div>
              <div class="w-full md:w-1/2 p-8">
                {preview &&
                  <Image
                    src={preview}
                    class="transform hover:-translate-x-16 rounded-xl transition ease-in-out duration-1000"
                    quality={100}
                    alt=""
                    aspectRatio={1920 / 1080}
                    loading="eager"
                    width={1920}
                    height={1080}
                  />
                }
              </div>
            </div>
          ))}
        </div>
      ))
    }
  </div>
</section>
